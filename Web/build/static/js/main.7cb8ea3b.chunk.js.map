{"version":3,"sources":["config.js","components/TimePicker.jsx","components/Clock.jsx","components/Alarm.jsx","components/App.jsx","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","TimePicker","props","myNumber","useState","value","setValue","maxValue","increment","useEffect","passValue","id","className","onClick","prev","type","min","max","onChange","event","targetValue","parseInt","target","slice","currentTime","minute","hour","Clock","updateList","Alarm","formatNumber","deleteAlarm","App","app","initializeApp","db","getDatabase","alarmList","setAlarmlist","a","set","ref","console","error","remove","onValue","snapshot","alarms","forEach","doc","push","key","val","sort","b","map","item","index","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7cb8ea3b.chunk.js","sourcesContent":["const firebaseConfig = {\r\n    apiKey: \"AIzaSyDC06NHOw7ZXuUneZsZvUcaW4PkfOMsNWc\",\r\n    authDomain: \"smart-med-con.firebaseapp.com\",\r\n    databaseURL: \"https://smart-med-con-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n    projectId: \"smart-med-con\",\r\n    storageBucket: \"smart-med-con.appspot.com\",\r\n    messagingSenderId: \"549264455625\",\r\n    appId: \"1:549264455625:web:4fa6ff26a71591c2c21a18\",\r\n    measurementId: \"G-65BZ99SJK3\"\r\n};\r\n\r\nexport default firebaseConfig;","import React, { useEffect, useState } from \"react\";\r\n\r\nfunction TimePicker(props) {\r\n\r\n  const [value, setValue] = useState(0);\r\n  const maxValue = props.maxValue;\r\n  const increment = props.increment;\r\n  \r\n  const formatNumber = myNumber => (\"0\" + myNumber).slice(-2);\r\n\r\n  useEffect(() => {\r\n    props.passValue(value, props.id);\r\n  })\r\n\r\n  function timeUp() {\r\n    if (value + increment < maxValue) setValue( prev => prev + increment);\r\n    else setValue(0);\r\n  }\r\n\r\n  function timeDown() {\r\n    if (value - increment >= 0) setValue(prev => prev - increment);\r\n    else setValue(maxValue - increment);\r\n  }\r\n\r\n  function handleChange(event) {\r\n    const targetValue = parseInt(event.target.value);\r\n    if (targetValue >= maxValue || targetValue < 0) setValue(0);\r\n    else setValue(targetValue);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"clock__container\">\r\n        <button className=\"btn clock-btn\" onClick={timeUp} ><i className=\"fas fa-chevron-up\"></i></button>\r\n        <input type=\"number\" className=\"clock__label\" min=\"0\" max=\"60\" onChange={handleChange} value={formatNumber(value)}/>\r\n        <button className=\"btn clock-btn\" onClick={timeDown}><i className=\"fas fa-chevron-down\"></i></button>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default TimePicker;\r\n","import React from \"react\";\r\nimport TimePicker from \"./TimePicker\"\r\n\r\n\r\nconst currentTime = {minute: 0, hour: 0};\r\nfunction Clock(props) {\r\n\r\n  function passValue(value, id) {\r\n    currentTime[id] = value;\r\n  }\r\n\r\n  function setAlarm() {\r\n    props.updateList(currentTime.minute, currentTime.hour);\r\n  }\r\n\r\n  return (\r\n    <div className=\"clock-container\">\r\n    <h3>Set your Medicine Alarm</h3>\r\n      <div className=\"clock\">\r\n          <TimePicker maxValue={24} increment={1} passValue={passValue} id=\"hour\" key=\"hour\" />\r\n          <span className=\"clock-colon\">:</span>\r\n          <TimePicker maxValue={60} increment={5} passValue={passValue} id=\"minute\" key=\"minute\" />\r\n          <button className=\"clock__set-alarm\" onClick={setAlarm}><i className=\"fal fa-alarm-plus\"></i></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Clock;\r\n","import React from \"react\";\r\n\r\nfunction Alarm(props) {\r\n\r\n  const formatNumber = myNumber => (\"0\" + myNumber).slice(-2);\r\n  return (\r\n    <div className=\"alarm\">\r\n      <span className=\"alarm__label\">{formatNumber(props.hour)}</span>\r\n      <span className=\"clock-colon\">:</span>\r\n      <span className=\"alarm__label\">{formatNumber(props.minute)}</span>\r\n      <button className=\"alarm-btn\" onClick={ () => props.deleteAlarm(props.id)}><i className=\"fas fa-trash\"></i></button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Alarm;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getDatabase, ref, set, onValue, remove } from \"firebase/database\";\r\nimport firebaseConfig from \"../config\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Clock from \"./Clock\";\r\nimport Alarm from \"./Alarm\";\r\n\r\nfunction App() {\r\n  const app = initializeApp(firebaseConfig);\r\n  const db = getDatabase(app);\r\n\r\n  const [alarmList, setAlarmlist] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    onValue(ref(db, 'alarms'), (snapshot) => {\r\n      const alarms = [];\r\n      snapshot.forEach((doc) => {\r\n        alarms.push({ id:doc.key, minute:doc.val().minute, hour:doc.val().hour});\r\n      });\r\n      alarms.sort((a,b) => {\r\n        return a.id-b.id;\r\n      });\r\n      setAlarmlist(alarms);\r\n    });\r\n  }, [db]);\r\n\r\n  async function updateList(minute, hour) {\r\n    try{\r\n      await set(ref(db, 'alarms/' + (hour*60+minute)), {\r\n        hour: hour,\r\n        minute: minute\r\n      });\r\n    } catch (e) {\r\n      console.error(\"Error adding document: \", e);\r\n    }\r\n  }\r\n\r\n  async function deleteAlarm(id) {\r\n    remove(ref(db, 'alarms/' + id));\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Clock updateList={updateList} />\r\n      <div className=\"alarm__container\">\r\n        { alarmList && alarmList.map( (item, index) =>\r\n          <Alarm\r\n            minute={item.minute}\r\n            hour={item.hour}\r\n            key={item.id}\r\n            id={item.id}\r\n            deleteAlarm={deleteAlarm}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}